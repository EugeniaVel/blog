---
title: Лабораторная работа №11
summary: Изучаем основы программирования в оболочке ОС UNIX. Учимся писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.
date: '2022-05-27T00:00:00Z'

# Optional external URL for project (replaces project detail page).
external_link: ''

image:
  caption: Photo by rawpixel on Unsplash
  focal_point: Smart

links:
  - icon: twitter
    icon_pack: fab
    name: Follow
    url: https://twitter.com/georgecushen
url_code: ''
url_pdf: ''
url_slides: ''
url_video: ''

# Slides (optional).
#   Associate this project with Markdown slides.
#   Simply enter your slide deck's filename without extension.
#   E.g. `slides = "example-slides"` references `content/slides/example-slides.md`.
#   Otherwise, set `slides = ""`.
slides: example
---

# Цель работы

Изучить основы программирования в оболочке ОС UNIX. Научится писать более сложные командные файлы с использованием логических управляющих конструкций и циклов.

# Выполнение лабораторной работы

1. Создала три файла: a.txt(рис.1) для чтения из него текста, b.txt(рис.2) в качестве шаблона и bb для записи в него результатов работы программы. Создала файл l11n1 и добавила право на исполнение.(рис.3) Написала код для командного файла, который будет анализировать строку с ключами -i,-o,-p,-C,-n, где i - файл для прочтения из него данных, o - файл для вывода данных, p - шаблон для поиска, C - опция для того, чтобы различать большие и малые буквы, n - опция подсчёта строк.(рис.4) Проверила работу файла:
- Без опций -C и -n.(рис.5)
- Без опции -n, но с опцией -C.(рис.6)
- Со всеми опциями.(рис.7)
- Без опции -C, но с опцией -n.(рис.8)
- Без указания шаблона.(рис.9)
- Без указания файла для прочтения.(рис.10)
- Без указания файла для записи.(рис.11)

![1.Файл для чтения текста](image/oc1.jpg)

![2.Шаблон для поиска](image/oc2.jpg)

![3.Создание командного файла и добавление права на исполнение](image/oc3.jpg)

![4.Исходный код](image/oc4.jpg)

![5.Работа командного файла без опций -C и -n](image/oc5.jpg)

![6.Работа командного файла без опции -n, но с опцией -C](image/oc6.jpg)

![7.Работа командного файла со всеми опциями](image/oc7.jpg)

![8.Работа командного файла без опции -C, но с опцией -n](image/oc8.jpg)

![9.Работа командного файла без указания шаблона](image/oc9.jpg)

![10.Работа командного файла без указания файла для прочтения](image/oc10.jpg)

![11.Работа командного файла без указания файла для записи](image/oc11.jpg)

2. Создала файл l11n2 и добавила право на исполнение.(рис.12) Написала программу на C, которая вводит число определяет, является ли оно больше нуля, меньше или равно, и с помощью exit(n) при завершении передаёт информацию о коде завершения в оболочку.(рис.13) Скомпилировала программу с помощью gcc.(рис.14) Написала командный файл, который вызывает созданный на C файл, с помощью $? анализирует код завершения предыдущей программы и выводит информацию о том, какое число было введено.(рис.15) Проверила работу программы на трёх числах, одно из которых меньше нуля, другое - больше и третье равно нулю.(рис.16)

![](image/oc12.jpg)

![](image/oc14.jpg)

![](image/oc13.jpg)

![](image/oc15.jpg)

![](image/oc16.jpg)

3. Создала файл l11n3 и добавила право на исполнение.(рис.17) Написала командный файл, который создаёт или удаляет указанное число файлов с указанным названием.(рис.18) Проверила работу файла с опцией -m - создание файлов(рис.19), -r - удаление файлов(рис.20) , -t - неправильная опция.(рис.21)

![](image/oc17.jpg)

![](image/oc18.jpg)

![](image/oc19.jpg)

![](image/oc20.jpg)

![](image/oc21.jpg)

4. Создала файл l11n3 и добавила право на исполнение.(рис.22) Написала командный файл, который архивирует все файлы в указанной папке.(рис.23) Проверила работу программы на каталоге n4.(рис.24-25) Модифицировала файл так, чтобы он архивировал только те файлы, которые были изменены в течение последних семи дней.(рис.26) Проверила работу файла на каталоге blog.(рис.27-28)

![](image/oc22.jpg)

![](image/oc23.jpg)

![](image/oc24.jpg)

![](image/oc25.jpg)

![](image/oc26.jpg)

![](image/oc27.jpg)

![](image/oc28.jpg)
